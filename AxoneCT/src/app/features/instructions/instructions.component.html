<div class="main-container">
    <div class="top">
        @defer (when page == 1) {
            @if(page == 1){
                <p class="title"> <strong>Instrucciones</strong> </p>
                <p>A continuaci√≥n, comenzar√°s con el desarrollo de las tareas cognitivas, las cuales estar√°n divididas en dos partes (antes de iniciar cada parte encontrar√°s instrucciones adicionales):</p>
                <ol>
                    <li>
                        <p>Primera parte: enfocada en el pensamiento creativo ü§Ø.</p>
                    </li>
                    <li>
                        <p>Segunda parte: enfocada en el pensamiento cr√≠tico üßê.</p>
                    </li>
                </ol>
            }
        }

        @defer (when page ==2) {
            @if(page == 2){
                <p class="title">Pensamiento creativo</p>
                <ol>
                    <li>
                        <p>Se te presentar√°n tres im√°genes, cada una con m√∫ltiples elementos visuales.</p>
                    </li>
                    <li>
                        <p>Observa con atenci√≥n cada imagen. Detente en los detalles, analiza los objetos, s√≠mbolos y posibles relaciones entre ellos.</p>
                    </li>
                    <li>
                        <p>Tu tarea ser√° formar grupos de tres palabras que tengan una relaci√≥n clara entre s√≠, tomando como base lo que observes en la imagen.</p>
                    </li>
                    <li>
                        <p><strong>Tiempo l√≠mite: dispondr√°s de 1 minuto por imagen para formar la mayor cantidad de grupos posibles (Recuerda que cada grupo debe tener tres palabras)</strong> ‚ö†Ô∏è.</p>
                    </li>
                    <li>
                        <p> Al hacer click en ‚ÄúContinuar‚Äù, aparecer√° en pantalla un recordatorio del tiempo con el que cuentas; confirma solo cuando consideres que est√©s preparado/a para comenzar.</p>
                    </li>
                    <li>
                        <p> Tras confirmar, se activar√° autom√°ticamente un temporizador de 1 minuto correspondiente a la imagen en pantalla. Durante ese minuto podr√°s ingresar las palabras y formar los grupos; el contador ser√° visible para ayudarte a gestionar el tiempo.</p>
                    </li>
                    <li>
                        <p> Cuando el minuto finalice, el campo de texto quedar√° deshabilitado y ya no se aceptar√°n m√°s entradas para esa imagen.</p>
                    </li>
                    <li>
                        <p> A continuaci√≥n se habilitar√° el bot√≥n ‚ÄúContinuar‚Äù: pulsa dicho bot√≥n para avanzar a la siguiente imagen y activar el temporizador correspondiente.</p>
                    </li>
                </ol>
                <p class="title">C√≥mo formar los grupos</p>
                <ol>    
                    <li>
                        <p>Ver√°s una imagen y un campo de texto debajo o al lado derecho.</p>
                    </li>
                    <li>
                        <p>Escribe la primera palabra de tu grupo y presiona la tecla Enter.</p>
                    </li>
                    <li>
                        <p>Repite el proceso para la segunda y la tercera palabra.</p>
                    </li>
                    <li>
                        <p>Cada vez que presiones Enter, la palabra se agregar√° autom√°ticamente a tu grupo.</p>
                    </li>
                    <li>
                        <p>Una vez completes tres palabras, tu grupo quedar√° registrado y podr√°s iniciar otro nuevo.</p>
                    </li>
                    <li>
                        <p> <strong>Pru√©balo ac√° abajo antes de empezar la prueba e inicia cuando te sientas preparado(a). Recuerda que no podr√°s retroceder en las fases de la prueba</strong> . </p>
                    </li>
                        
                </ol>
                <p>En la parte de abajo encontrar√°s un campo de texto para practicar o simular el ejercicio, de manera que te familiarices con la tarea antes de iniciar.</p>
                <p class="title">Ejemplo:</p>
                <div class="example">
                    <div class="img-container">
                        <!-- <img ngSrc="https://sthsguhtgaahhbinjege.supabase.co/storage/v1/object/public/AxoneAssets/1.webp" priority width="auto" height="auto" alt=""> -->
                        <img src="https://sthsguhtgaahhbinjege.supabase.co/storage/v1/object/public/AxoneAssets/1.webp" loading="lazy" alt="">
                    </div>
                    <div class="input-container">
                        <mat-form-field class="example-form-field" appearance="outline">
                            <mat-label>Grupo de palabras</mat-label>
                            <mat-chip-grid #chipGrid aria-label="Enter keywords" [formControl]="formControl">
                                @for (keyword of keywords(); track keyword) {
                                <mat-chip-row>
                                    {{keyword}}
                                </mat-chip-row>
                                }
                            </mat-chip-grid>
                            <input
                                placeholder="Nueva palabra..."
                                [matChipInputFor]="chipGrid"
                                (matChipInputTokenEnd)="add($event)"
                            />
                        </mat-form-field>

                        <div class="groups">
                            <ol>
                            @for(wordGroup of sharedService.testWordGroup; track wordGroup) {
                                <li>
                                <div class="group">

                                        @for(word of wordGroup; let i = $index; track word) {
                                            <span class="word">{{word}}</span>
                                            @if(i < wordGroup.length - 1) {
                                                <span> - </span>
                                            }
                                        }
                                    </div>
                                </li>
                                }
                            </ol>
                        </div>
                    </div>
                </div>
            }
        }

        @defer (when page ==3) {
            @if(page == 3){
                <div class="test-container">

                    <app-image-test></app-image-test>
                </div>
            }
        }

        @defer (when page ==4) {
            @if(page == 4){
                <p class="title">Pensamiento cr√≠tico</p>
                <ol>
                    <li>
                        <p>Se te presentar√°n dos enunciados breves.</p>
                    </li>
                    <li>
                        <p>El primer enunciado estar√° acompa√±ado de 2 preguntas, y el segundo enunciado
de 3 preguntas de opci√≥n m√∫ltiple relacionadas con la informaci√≥n presentada.</p>
                    </li>
                    <li>
                        <p>Tu tarea ser√° leer atentamente cada enunciado, analizar el contenido y responder
las preguntas, eligiendo la alternativa que consideres m√°s acertada.</p>
                    </li>
                    <li>
                        <p>Ten en cuenta que el prop√≥sito de esta tarea no es identificar respuestas
absolutas, sino valorar tu capacidad de discernimiento, razonamiento y
argumentaci√≥n cr√≠tica frente a la informaci√≥n planteada.</p>
                    </li>
                    <li>
                        <p> <strong>Dispondr√°s de un tiempo m√°ximo de 5 minutos para completar este apartado</strong> .</p>
                    </li>
                    <li>
                        <p> Tras dar click en confirmar se activar√° autom√°ticamente un temporizador de 5 minutos correspondientes a los 2 enunciados y sus respectivas preguntas.</p>
                    </li>
                    <li>
                        <p> Cuando el tiempo finalice las respuestas ser√°n bloqueadas y no podr√°s cambiarlas ‚ö†Ô∏è.</p>
                    </li>
                </ol>
            }
        }

        @defer (when page ==5) {
            @if(page == 5){
                <div class="test-container">

                    <app-text-test></app-text-test>
                </div>
            }
        }

        @defer (when page ==6) {
            @if(page == 6){
                <div class="test-container">

                    <app-test-end></app-test-end>
                </div>
            }
        }
    </div>

    <div class="bottom">
        @if(page < 4) {
            <button (click)="next()" class="button" mat-flat-button [disabled]="(page == 3 && sharedService.remainingSeconds > 0)">Continuar</button>

        }@else if(page == 5) {
            @if(sharedService.remainingSecondsText > 0){
                <button (click)="end()" class="button" mat-flat-button [disabled]="(!sharedService.answer1 || !sharedService.answer2 || !sharedService.answer3 || !sharedService.answer4 || !sharedService.answer5)">Finalizar</button>
                
            }@else {
                <button (click)="end()" class="button" mat-flat-button>Finalizar</button>
                
            }
        }@else if(page == 4){
            <button (click)="next()" class="button" mat-flat-button>Continuar</button>
        }
        <!-- <button (click)="next()" class="button" mat-flat-button>Continuar</button> -->
    </div>
</div>